(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1780:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(8510)}])},1721:function(n,e,t){"use strict";t.d(e,{I:function(){return p},w:function(){return v}});var r=t(5666),o=t.n(r),u=t(5893),a=t(7294),c=t(4626),i=t(9713);function s(n,e,t,r,o,u,a){try{var c=n[u](a),i=c.value}catch(s){return void t(s)}c.done?e(i):Promise.resolve(i).then(r,o)}function f(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var u=n.apply(e,t);function a(n){s(u,r,o,a,c,"next",n)}function c(n){s(u,r,o,a,c,"throw",n)}a(void 0)}))}}function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var p=(0,a.createContext)([{},function(){console.log("hula hoo")}]),l=[],v=function(n){var e=(0,a.useState)({}),t=e[0],r=e[1],s=(0,a.useState)(!1),v=s[0],m=s[1],h=(0,a.useState)(null),w=h[0],b=h[1];return(0,a.useEffect)((function(){function n(){return(n=f(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.Pv)();case 2:e=n.sent,r(e),b(JSON.parse(localStorage.getItem("user")));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}window.onkeydown=function(n){(n.ctrlKey||n.metaKey)&&"z"===n.key&&function(){var n=l.pop()||{};r(n),(0,i.A)("Undo successful!")}()},function(){n.apply(this,arguments)}()}),[]),(0,u.jsx)(p.Provider,{value:{cart:t,addToCart:function(n){l.push(t);var e=t[n.databaseId]?t[n.databaseId].quantity+1:1;r(function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){d(n,e,t[e])}))}return n}({},t,d({},n.databaseId,{product:{node:n},quantity:e}))),(0,c.tL)(n.databaseId)},cartDrawer:v,setCartDrawer:m,user:w,setUser:b},children:n.children})}},4626:function(n,e,t){"use strict";t.d(e,{Dg:function(){return l},tL:function(){return v},Pv:function(){return m},pH:function(){return w}});var r=t(5666),o=t.n(r),u=t(2979),a=t(4155);function c(n,e,t,r,o,u,a){try{var c=n[u](a),i=c.value}catch(s){return void t(s)}c.done?e(i):Promise.resolve(i).then(r,o)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var u=n.apply(e,t);function a(n){c(u,r,o,a,i,"next",n)}function i(n){c(u,r,o,a,i,"throw",n)}a(void 0)}))}}var s=u.TH;function f(){return(f=i(o().mark((function n(e,t){var r,u,c,i,f=(void 0===t?{}:t).variables;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=void 0,u={"Content-Type":"application/json"},a.env.WORDPRESS_AUTH_REFRESH_TOKEN&&(u.Authorization="Bearer ".concat(a.env.WORDPRESS_AUTH_REFRESH_TOKEN)),r&&(u["woocommerce-session"]="Session ".concat(r)),n.next=6,fetch(s,{method:"POST",headers:u,body:JSON.stringify({query:e,variables:f})});case 6:return c=n.sent,c.headers.get("woocommerce-session"),n.next=11,c.json();case 11:if(!(i=n.sent).errors){n.next=15;break}throw console.error(i.errors),new Error("Failed to fetch API");case 15:return n.abrupt("return",i.data);case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function p(){return(p=i(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d("\n    {\n      products(first: 10000) {\n          nodes {\n            id\n            databaseId\n            slug\n            name\n            shortDescription\n            description\n            productTags {\n              nodes {\n                name\n              }\n            }\n            image {\n              mediaItemUrl\n              sourceUrl\n              srcSet\n            }\n            ... on SimpleProduct {\n              id\n              price\n              salePrice\n              regularPrice\n            }\n          }\n      }\n    }\n  ");case 2:return e=n.sent,n.abrupt("return",null===e||void 0===e?void 0:e.products);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(){return p.apply(this,arguments)}var v=i(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d("\n    mutation AddToCartMutation {\n      addToCart(input: {productId: ".concat(e,"}) {\n        clientMutationId\n      }\n    }\n    "));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)}))),m=i(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d("\n    query {\n      cart {\n        contents {\n          nodes {\n            product {\n              node {\n                databaseId\n                name\n                ... on SimpleProduct {\n                  id\n                  name\n                  price\n                }\n              }\n            }\n            quantity\n            subtotal\n          }\n        }\n      }\n    }\n    ");case 2:return e=n.sent,n.abrupt("return",null===e||void 0===e?void 0:e.cart.contents.nodes);case 4:case"end":return n.stop()}}),n)})));function h(){return(h=i(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d('\n    mutation LoginUser {\n      login( input: {\n        clientMutationId: "uniqueId",\n        username: "'.concat(e,'",\n        password: "').concat(t,'"\n      } ) {\n        authToken\n        user {\n          id\n          name\n          email\n        }\n      }\n    }    \n    '));case 2:return r=n.sent,n.abrupt("return",null===r||void 0===r?void 0:r.login);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n,e){return h.apply(this,arguments)}},2979:function(n,e,t){"use strict";t.d(e,{jG:function(){return r},vk:function(){return o},TH:function(){return u}});var r="Tundra",o="A modern, minimalist ecommerce theme.",u="https://tundra.pk/graphql"},9713:function(n,e,t){"use strict";function r(n){return n?parseFloat(n.replaceAll(/(?!\.)(\D+)/g,"")):0}function o(n,e,t){var r=void 0===e?"info":e,o=void 0===t?"body":t,u=document.createElement("i");u.className="fa ".concat({success:"fa-check",info:"fa-exclamation",warning:"fa-warning",danger:"fa-skull-crossbones"}[r]);var a=document.createElement("p");a.innerHTML=n;var c=document.createElement("div");c.className="toast ".concat(r),c.append(u),c.append(a),document.querySelector(o).append(c),setTimeout((function(){c.remove()}),2500)}t.d(e,{z:function(){return r},A:function(){return o}})},8510:function(n,e,t){"use strict";t.r(e);var r=t(5893),o=t(1721);t(355);function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){u(n,e,t[e])}))}return n}e.default=function(n){var e=n.Component,t=n.pageProps;return(0,r.jsx)(o.w,{children:(0,r.jsx)(e,a({},t))})}},355:function(){}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[774,179],(function(){return e(1780),e(387)}));var t=n.O();_N_E=t}]);